!function s(a,r,l){function u(i,e){if(!r[i]){if(!a[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(c)return c(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var o=r[i]={exports:{}};a[i][0].call(o.exports,function(e){var t=a[i][1][e];return u(t||e)},o,o.exports,s,a,r,l)}return r[i].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(e,t,i){"use strict";e(42)},{42:42}],2:[function(e,t,u){"use strict";Object.defineProperty(u,"__esModule",{value:!0});var i=e(3);function c(e){return"undefined"!=typeof document&&document.head.querySelector("meta[property='"+e+"']")&&document.head.querySelector("meta[property='"+e+"']").getAttribute("content")||void 0}function n(e){return void 0===e&&(e=i.createUserLoginState),u.userLoginState||(u.userLoginState=e()),u.userLoginState.getLoggedInStatus()}u.PAGE_TYPE_META_KEY="pageType",u.SUB_PAGE_TYPE_META_KEY="subpageType",u.redirectToLoginPage=function(e){var t=encodeURIComponent(window.location.pathname+window.location.search),i="https://"+window.location.hostname+"/registration/signin?u="+t+"&ref_="+e;return window.location=i},u.redirectToLoginPageWithTaskCompletion=function(e,t,i,n,o){var s=n||c(u.PAGE_TYPE_META_KEY),a=o||c(u.SUB_PAGE_TYPE_META_KEY),r=encodeURIComponent(window.location.pathname+window.location.search),l="https://"+window.location.host+"/taskcompletion/issue/rateTitle?titleId="+t+"&value="+e+"&u="+r+(i?"&refTag=tmp_"+i:"")+(s?"&pageType="+s:"")+(a?"&subPageType="+a:"");return window.location=l},u.isUserLoggedIn=n,u.default=n},{3:3}],3:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(e){void 0===e&&(e=window.XMLHttpRequest),this.Requester=e,this.requestUrl="/registration/is-user-recognized",this.isLoggedIn=void 0,this.hasTestedLogin=!1}return e.prototype.getLoggedInStatus=function(){if(this.hasTestedLogin)return this.isLoggedIn;var e=new this.Requester;return e.open("GET",this.requestUrl,!1),e.send(),this.isLoggedIn=this.getLoginStateFromResponse(e.response),this.hasTestedLogin=!0,this.isLoggedIn},e.prototype.getLoginStateFromResponse=function(e){return JSON.parse(e).isUserRecognized||!1},e}();i.UserLoginDetection=n,i.createUserLoginState=function(e){return new n(e)}},{}],4:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=s,i.autoInit=function(e){var t=e.getElementsByClassName(n);Array.from(t).filter(function(e){return 0===e.getElementsByTagName("select").length}).forEach(function(e){return s(e)})};var n="ipl-expander",o="ipl-expander--expanded";function s(e){e.addEventListener("click",function(){e.classList.toggle(o)})}},{}],5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=n,i.autoInit=function(e){var t=e.getElementsByClassName("ipl-hideable-trigger");Array.from(t).forEach(function(e){n(e)})};var r="ipl-hideable-trigger--active",l="ipl-hideable-trigger--inactive",u="ipl-hideable-container--shown",c="ipl-hideable-container--hidden";function n(e){var t=document.getElementById(e.getAttribute("data-target"));if(!t)throw new Error("No data-target defined for hideable trigger: "+e.id);var a=t.getElementsByClassName("ipl-hideable-container");e.addEventListener("click",function(e){var t,i,n,o,s;e.preventDefault(),t=e.target,i=t.getAttribute("data-initial-text"),(n=t.getAttribute("data-secondary-text"))&&(t.text===i?t.textContent=n:t.text===n&&(t.textContent=i)),(o=e.target).classList.contains(r)?(o.classList.remove(r),o.classList.add(l)):o.classList.contains(l)&&(o.classList.remove(l),o.classList.add(r)),s=a,Array.from(s).forEach(function(e){e.classList.contains(c)?(e.classList.remove(c),e.classList.add(u)):e.classList.contains(u)&&(e.classList.remove(u),e.classList.add(c))})})}},{}],6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.loadMoreClickHandler=n,i.default=function(t,i){t.addEventListener("click",function(e){n(t,i)})};var s="ipl-load-more--loaded",a="ipl-load-more--loading",r="ipl-load-more--loaded-all",l="ipl-load-more--error",u="An error has occured. Please try again.";function c(e,t){e.classList.remove(s),e.classList.remove(a),e.classList.remove(r),e.classList.remove(l),e.classList.add(t)}function d(e,t){e.innerHTML=t}function n(e,t){var i=e.parentNode,n=document.getElementById(e.getAttribute("data-target-container")),o=i.getElementsByClassName("ipl-load-more__error-text")[0];return c(i,a),d(o,""),t().then(function(e){if("boolean"!=typeof e.hasMore||"string"!=typeof e.html)return c(i,l),void d(o,u);n.insertAdjacentHTML("beforeend",e.html),!1===e.hasMore?c(i,r):c(i,s)}).catch(function(e){d(o,"string"==typeof e?e:u),c(i,l)})}},{}],7:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=r,i.autoInit=function(e){var t=e.getElementsByClassName(o);Array.from(t).forEach(function(e){e.classList.remove(s),r(e)})};var c=n(e(9)),d=n(e(12)),h=n(e(8)),f=n(e(10)),p=n(e(11));function n(e){return e&&e.__esModule?e:{default:e}}var o="ipl-multi-select",s="ipl-multi-select--initial",g="ipl-multi-select__initial",v="ipl-multi-select__input",m="ipl-multi-select__dropdown-list",b="ipl-multi-select__selected-list";function a(e){var t=e.getElementsByClassName(g)[0],i=e.getElementsByClassName(v)[0],n=e.getElementsByClassName(m)[0],o=e.getElementsByClassName(b)[0],s=new d.default(t),a=new c.default(e,s),r=new f.default(i,s,a),l=new h.default(n,s,a),u=new p.default(o,s,a);s.init(),l.init(),r.init(),u.init()}function r(e){return new a(e)}},{10:10,11:11,12:12,8:8,9:9}],8:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();var s="ipl-multi-select__dropdown-option",n=function(){function n(e,t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.dropDownParentNode=e,this.stateManager=t,this.focusManager=i}return o(n,[{key:"_addOptionsListeners",value:function(n){var o=this;n.forEach(function(e,t){var i=e.getAttribute("data-value");e.addEventListener("keydown",function(e){switch(e.key){case"ArrowDown":e.preventDefault(),t<n.length-1&&n[t+1].focus();break;case"ArrowUp":e.preventDefault(),0<t?n[t-1].focus():o.focusManager.focusInput();break;case"Enter":e.preventDefault(),o.stateManager.selectOption(i),o.focusManager.focusInput();break;case"Escape":e.preventDefault(),o._clearDropdownList();break;case"Tab":e.preventDefault(),e.shiftKey?o.focusManager.focusInput():o._clearDropdownList()}}),e.addEventListener("click",function(e){e.preventDefault(),o.stateManager.selectOption(i),o.stateManager.showDropdown(),o.focusManager.focusInput()}),e.addEventListener("focus",function(e){o.focusManager.addFocusClass(e)}),e.addEventListener("blur",function(e){o.focusManager.clearFocusedStateOnComponentBlur()})})}},{key:"_clearDropdownList",value:function(){this.dropDownParentNode.innerHTML=""}},{key:"_openDropDownList",value:function(e){var i="";e.forEach(function(e){var t='<a class="'+s+'" href="#" data-value="'+e.value+'">'+e.text+"</a>";i+=t}),this.dropDownParentNode.innerHTML=i;var t=Array.from(this.dropDownParentNode.getElementsByClassName(s));this._addOptionsListeners(t)}},{key:"render",value:function(e){var t=2<=e.inputValue.length;e.showDropdown?t?this._openDropDownList(e.matchedOptions):this._openDropDownList(e.unselectedOptions):this._clearDropdownList()}},{key:"init",value:function(){this.stateManager.subscribe(this.render.bind(this))}}]),n}();i.default=n},{}],9:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();var o="ipl-multi-select--focused",s="ipl-multi-select__input",a="ipl-multi-select__dropdown-option",r="ipl-multi-select__selected-option",l=function(){function i(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.parentNode=e,this.stateManager=t}return n(i,[{key:"clearFocusedStateOnComponentBlur",value:function(){var e=this;setTimeout(function(){document.activeElement&&(document.activeElement.classList.contains(a)||document.activeElement.classList.contains(r)||document.activeElement.classList.contains(s)||document.activeElement.classList.contains("ipl-multi-select__selected-list"))||(e.removeFocusClass(),e.stateManager.hideDropdown())},10)}},{key:"removeFocusClass",value:function(){this.parentNode.classList.remove(o)}},{key:"addFocusClass",value:function(){this.parentNode.classList.add(o)}},{key:"focusInput",value:function(){this.parentNode.getElementsByClassName(s)[0].focus()}},{key:"focusFirstOption",value:function(){var e=this.parentNode.getElementsByClassName(a)[0];e&&e.focus()}},{key:"focusLastSelectedOption",value:function(){var e=Array.from(this.parentNode.getElementsByClassName(r)).slice(-1)[0];e&&e.focus()}}]),i}();i.default=l},{}],10:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();var n=function(){function n(e,t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.inputNode=e,this.stateManager=t,this.focusManager=i}return o(n,[{key:"_addInputListeners",value:function(){var t=this;this.inputNode.addEventListener("keydown",function(e){if("ArrowDown"===e.key)return e.preventDefault(),void t.focusManager.focusFirstOption();if("Escape"!==e.key){if("ArrowUp"===e.key&&0<t.stateManager.getState().selectedOptions.length)return e.preventDefault(),void t.focusManager.focusLastSelectedOption();if(0===e.target.value.length&&0<t.stateManager.getState().selectedOptions.length){if("ArrowLeft"===e.key)return e.preventDefault(),void t.focusManager.focusLastSelectedOption();"Backspace"===e.key&&(t.stateManager.deselectLastSelectedOption(),t.focusManager.focusInput())}}else t.stateManager.hideDropdown()}),this.inputNode.addEventListener("keyup",function(e){t.stateManager.updateInputValue(e.target.value)}),this.inputNode.addEventListener("click",function(e){t.stateManager.showDropdown()}),this.inputNode.addEventListener("focus",function(e){t.focusManager.addFocusClass()}),this.inputNode.addEventListener("blur",function(e){t.focusManager.clearFocusedStateOnComponentBlur()})}},{key:"render",value:function(e){e.inputValue!==this.inputNode.value&&(this.inputNode.value=e.inputValue)}},{key:"init",value:function(){this._addInputListeners(),this.stateManager.subscribe(this.render.bind(this))}}]),n}();i.default=n},{}],11:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();var s="ipl-multi-select__selected-option",n=function(){function n(e,t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.selectedParentNode=e,this.stateManager=t,this.focusManager=i}return o(n,[{key:"_addParentListeners",value:function(){var e=this;this.selectedParentNode.addEventListener("mousedown",function(){event.preventDefault(),e.focusManager.addFocusClass(event),e.focusManager.focusInput()})}},{key:"_addSelectedListeners",value:function(n,e){var o=this;n.forEach(function(e,t){var i=e.getAttribute("data-value");e.addEventListener("keydown",function(e){switch(e.key){case"ArrowRight":e.preventDefault(),t<n.length-1?n[t+1].focus():o.focusManager.focusInput();break;case"ArrowLeft":e.preventDefault(),0<t&&n[t-1].focus();break;case"Backspace":case"Enter":e.preventDefault(),o.stateManager.deselectOption(i),o.focusManager.focusInput();break;case"Escape":e.preventDefault(),o.stateManager.hideDropdown();break;case"Tab":e.shiftKey?o.stateManager.hideDropdown():(e.preventDefault(),o.focusManager.focusInput())}}),e.addEventListener("click",function(e){e.preventDefault(),o.stateManager.deselectOption(i),o.focusManager.focusInput()}),e.addEventListener("focus",function(e){o.focusManager.addFocusClass(e)}),e.addEventListener("blur",function(e){o.focusManager.clearFocusedStateOnComponentBlur()})})}},{key:"render",value:function(e){var i="";e.selectedOptions.forEach(function(e){var t='<a class="'+s+'" href="#" data-value="'+e.value+'">'+e.text+"</a>";i+=t}),this.selectedParentNode.innerHTML=i;var t=Array.from(this.selectedParentNode.getElementsByClassName(s));this._addSelectedListeners(t)}},{key:"init",value:function(){this._addParentListeners(),this.stateManager.subscribe(this.render.bind(this))}}]),n}();i.default=n},{}],12:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();var o=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.sourceNode=e,this.subscribed=[],this.state={selectedOptions:[],unselectedOptions:[],showDropdown:!0,inputValue:"",matchedOptions:[]}}return n(t,[{key:"_pullDataFromSource",value:function(){var e=Array.from(this.sourceNode.options),t=[],i=[];e.forEach(function(e){e.selected?i.push({value:e.value,text:e.text}):t.push({value:e.value,text:e.text})}),this.state.selectedOptions=i,this.state.unselectedOptions=t}},{key:"_updateSource",value:function(){var e=this;Array.from(this.sourceNode.options).forEach(function(t){t.selected=e.state.selectedOptions.some(function(e){return e.value.toLowerCase()===t.value.toLowerCase()})}),this._pullDataFromSource()}},{key:"_updateStateWithMatchedOptions",value:function(){var i=this,e=[];2<=this.state.inputValue.length&&(e=this.state.unselectedOptions.filter(function(e){var t=e.text.toLowerCase();return!(!e.value.toLowerCase().includes(i.state.inputValue.toLowerCase())&&!t.includes(i.state.inputValue.toLowerCase()))})),this.state.matchedOptions=e}},{key:"updateSubscribers",value:function(){var t=this;this.subscribed.forEach(function(e){e(t.state)})}},{key:"selectOption",value:function(i){var n=this;this.state.unselectedOptions.forEach(function(e,t){e.value.toLowerCase()===i.toLowerCase()&&(n.state.selectedOptions.push(e),n.state.unselectedOptions.splice(t,1))}),this.state.inputValue="",this.state.showDropdown=!1,this._updateSource(),this._updateStateWithMatchedOptions(),this.updateSubscribers()}},{key:"deselectOption",value:function(i){var n=this;this.state.selectedOptions.forEach(function(e,t){e.value.toLowerCase()===i.toLowerCase()&&(n.state.unselectedOptions.push(e),n.state.selectedOptions.splice(t,1))}),this.state.showDropdown=!1,this._updateSource(),this.updateSubscribers()}},{key:"deselectLastSelectedOption",value:function(){var e=this.state.unselectedOptions.slice(-1)[0];this.state.selectedOptions.pop(),this.state.unselectedOptions.push(e),this.state.showDropdown=!1,this._updateSource(),this.updateSubscribers()}},{key:"updateInputValue",value:function(e){this.state.inputValue!==e&&(this.state.inputValue=e,this.state.showDropdown=!0,this._updateStateWithMatchedOptions(),this.updateSubscribers())}},{key:"showDropdown",value:function(){this.state.showDropdown=!0,this.updateSubscribers()}},{key:"hideDropdown",value:function(){this.state.showDropdown=!1,this.updateSubscribers()}},{key:"getState",value:function(){return this.state}},{key:"subscribe",value:function(e){this.subscribed.push(e)}},{key:"init",value:function(){this._pullDataFromSource()}}]),t}();i.default=o},{}],13:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.RatingSelector=i.HIGHLIGHT_CLASS=void 0;var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();i.getRateInfoValues=d,i.autoInit=function(e){var t=e.querySelectorAll('[id^="ipl-rating-selector-tt"]');h(Array.from(t))},i.initRatingsSelectors=h;var o,s=e(16),l=(o=s)&&o.__esModule?o:{default:o},u=e(2),c=e(15);var a=i.HIGHLIGHT_CLASS="ipl-rating-selector__star-link--highlighted";function d(e){return{tconst:e.elements.tconst.value,rating:e.elements.rating.value,trackingTag:e.elements.tracking_tag.value,csrfToken:e.elements.csrfToken.value,pageType:e.elements.pageType.value,subpageType:e.elements.subpageType.value}}var r=i.RatingSelector=function(){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.domNode=e,this.stars=Array.from(e.querySelectorAll(".ipl-rating-selector__star-link")),this.displayedValue=e.querySelector(".ipl-rating-selector__rating-value"),this.selectedRatingInput=e.querySelector("input[name=rating]"),this.form=e.querySelector(".ipl-rating-selector__star-list"),this.resetButton=e.querySelector(".ipl-rating-selector__reset a"),this.stars.forEach(function(i){i.addEventListener("mouseenter",function(){n.render(i.getAttribute("data-value"))}),i.addEventListener("touchstart",function(e){e.preventDefault(),i.click()}),i.addEventListener("click",function(e){e.preventDefault();var t=i.getAttribute("data-value");n.setValue(t),n.emitEvent("ratingselect"),n.submitRating()})}),this.form.addEventListener("mouseleave",function(e){e.stopPropagation(),n.render(n.selectedRatingInput.value)}),this.form.addEventListener("submit",function(e){e.preventDefault()}),this.resetButton.addEventListener("touchstart",function(e){e.preventDefault(),n.resetButton.click()}),this.resetButton.addEventListener("click",function(e){e.preventDefault(),n.setValue(0),n.emitEvent("ratingselect"),n.submitRating()})}return n(t,[{key:"submitRating",value:function(){var t=this,e=d(this.form),i=e.tconst,n=e.rating,o=e.trackingTag,s=e.csrfToken,a=e.pageType,r=e.subpageType;(0,u.isUserLoggedIn)()||!(0,c.shouldUseRatingTaskCompletion)()?(0,l.default)(i,n,o,s,a,r).then(function(e){(0,u.isUserLoggedIn)()&&(t.emitEvent("ratingsuccess",e),t.updateInitialState())},function(e){t.emitEvent("ratingerror",e),t.toggleErrorState()}).catch(function(e){t.emitEvent("ratingerror",e),t.toggleErrorState()}):(0,c.doRatingTaskCompletion)(i,n,o)}},{key:"setValue",value:function(e){this.selectedRatingInput.value=e,this.render(e)}},{key:"render",value:function(e){for(var t=parseInt(e),i=0;i<t;i++)this.stars[i].classList.add(a);for(var n=t;n<this.stars.length;n++)this.stars[n].classList.remove(a);this.displayedValue.textContent=t}},{key:"emitEvent",value:function(e,t){var i=document.createEvent("Event");i.initEvent(e,!0,!0),t&&(i.sourceEvent=t),this.domNode.dispatchEvent(i)}},{key:"updateInitialState",value:function(){this.domNode.setAttribute("data-value",this.form.elements.rating.value)}},{key:"toggleErrorState",value:function(){var e=this;this.setValue(this.domNode.getAttribute("data-value")),this.emitEvent("ratingerrormessageopen"),this.domNode.classList.add("ipl-rating-selector--error"),setTimeout(function(){e.domNode.classList.remove("ipl-rating-selector--error"),e.emitEvent("ratingerrormessageclose")},2e3)}}]),t}();function h(e){e.forEach(function(e){return new r(e)})}},{15:15,16:16,2:2}],14:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();i.autoInit=function(e){var t=e.querySelectorAll(".ipl-rating-interactive");u(Array.from(t))},i.initRatingsStarInteractive=u;var o=e(2),s=e(15);var a="ipl-rating-interactive--no-rating",r="ipl-rating-interactive__loader--visible",l=function(){function i(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.root=e,this.checkbox=e.querySelector(".ipl-rating-interactive__state"),this.star=e.querySelector(".ipl-rating-interactive__star-container"),this.rating=e.querySelector(".ipl-rating-star__rating"),this.ratingSelector=e.querySelector('[id^="ipl-rating-selector-tt"]'),this.loadingMessage=e.querySelector(".ipl-rating-interactive__loader"),this.isShowingError=!1,this.timer=null,this.ratingSelector.children[0].addEventListener("mouseleave",function(){t.isSelectorOpen()&&(t.timer=setTimeout(function(){t.isShowingError||t.closeSelector()},1e3))}),this.checkbox.addEventListener("click",function(e){(0,o.isUserLoggedIn)()||(0,s.shouldUseRatingTaskCompletion)()||(e.preventDefault(),(0,o.redirectToLoginPage)(t.checkbox.dataset.reftag))}),this.ratingSelector.children[0].addEventListener("mouseenter",function(){clearTimeout(t.timer)}),this.ratingSelector.addEventListener("ratingselect",function(){t.closeSelector(),t.showLoadingProgress()}),this.ratingSelector.addEventListener("ratingsuccess",function(){t.hideLoadingProgress(),t.updateFromRatingSelector()}),this.ratingSelector.addEventListener("ratingerror",function(){t.isShowingError=!0,t.hideLoadingProgress(),t.openSelector()}),this.ratingSelector.addEventListener("ratingerrormessageclose",function(){t.isShowingError=!1,t.closeSelector()})}return n(i,[{key:"updateFromRatingSelector",value:function(){var e=this.ratingSelector.querySelector("input[name=rating]");this.rating.textContent=e.value,0<parseInt(e.value,10)?this.root.classList.remove(a):this.root.classList.add(a)}},{key:"openSelector",value:function(){this.checkbox.checked=!0}},{key:"closeSelector",value:function(){this.checkbox.checked=!1}},{key:"isSelectorOpen",value:function(){return this.checkbox.checked}},{key:"showLoadingProgress",value:function(){this.star.style.display="none",this.loadingMessage.classList.add(r)}},{key:"hideLoadingProgress",value:function(){this.star.style.display="inline",this.loadingMessage.classList.remove(r)}}]),i}();function u(e){e.forEach(function(e){return new l(e)})}},{15:15,2:2}],15:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.doRatingTaskCompletion=function(e,t,i,n,o){var s=(0,a.redirectToLoginPageWithTaskCompletion)(t,e,i,n,o);window.location=s},i.shouldUseRatingTaskCompletion=function(){return window.useRatingTaskCompletion};var a=e(2)},{2:2}],16:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(e,t,i,n,o,s){(0,h.isUserLoggedIn)()&&n||((0,f.shouldUseRatingTaskCompletion)()?(0,f.doRatingTaskCompletion)(e,t,i):(0,h.redirectToLoginPage)(i));return a=e,r=t,l=i,u=n,c=o,d=s,new Promise(function(t,i){var e=new XMLHttpRequest,n=v(a,r,l,u,c,d);e.open("POST",p),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.timeout=g,e.onreadystatechange=function(e){4===this.readyState&&(200===this.status?t(e):i(e))},e.ontimeout=function(e){i(e)},e.onerror=function(e){i(e)},e.send(n)});var a,r,l,u,c,d},i.createRateRequestBody=v;var h=e(2),f=e(15),p="/ratings/_ajax/title",g=1e4;function v(e,t,i,n,o,s){var a={tconst:e,rating:t,csrfToken:n,pageType:o,subpageType:s};return a.tracking_tag=i,Object.keys(a).filter(function(e){return!!a[e]}).map(function(e){return e+"="+a[e]}).join("&")}},{15:15,2:2}],17:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function c(e,t){"inline-block"!==e.parentElement.children[1].style.display&&(t.style.display="inline-block",e.style.display="none")}function d(e,t,i,n){var o=e.getAttribute("rating"),s=t.children[0].getAttribute("data-user");!function(e,t,i,n,o,s,a,r){if(!i)return document.location="/registration/signin?u="+window.location.href;var l=new XMLHttpRequest;l.open("POST","/ratings/_ajax/title"),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.timeout=1e4,l.onreadystatechange=function(){4===this.readyState&&(200===this.status?("0"===t?(a.classList.remove("rating-rated"),a.classList.add("rating-not-rated"),a.children[2].textContent="Rate"):(a.classList.remove("rating-not-rated"),a.classList.add("rating-rated"),a.children[2].textContent=t),r.style.display="none",a.style.display="inline-block"):h(s,r,a))},l.ontimeout=function(){h(s,r,a)},a.style.display="none",r.style.display="inline-block",s.style.display="none";var u="tconst="+e+"&rating="+t+"&csrfToken="+o+"&tracking_tag="+n;l.send(u)}(t.children[0].getAttribute("id"),o,s,t.children[0].getAttribute("refTag"),t.children[0].getAttribute("data-csrf-token"),t,i,n)}function h(e,t,i){t.style.display="none";var n=e.parentElement.children[3];n.style.display="inline-block",setTimeout(function(){n.style.display="none",c(e,i)},1e3)}i.autoInit=function(e){for(var u=(e&&"function"===e.querySelectorAll?e:window.document).querySelectorAll('[id^="urv"]'),t=function(t){var e=u[t].parentElement,i=e.querySelector(".ipl-star-bar-widget");if(void 0===i)return{v:void 0};u[t].onclick=function(){var e;e=u[t],i.style.display="inline-block",e.style.display="none"},i.onmouseleave=function(){c(i,u[t])};for(var n=e.querySelector(".rating-pending"),o=i.querySelector(".rating-stars").children,s=i.querySelector(".value"),a=function(e){o[e].onmouseenter=function(){!function(e,t,i){var n=e.getAttribute("rating");i.textContent=n;for(var o=0;o<n;o++)t[o].setAttribute("class","rating-hover");for(var s=n;s<t.length;s++)t[s].setAttribute("class","")}(o[e],o,s)},o[e].onclick=function(){d(o[e],i,u[t],n)}},r=0;r<o.length;r++)a(r);var l=i.querySelector(".rating-cancel").firstChild;l.onclick=function(){d(l,i,u[t],n)}},i=0;i<u.length;i++){var n=t(i);if("object"===(void 0===n?"undefined":o(n)))return n.v}}},{}],18:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=o,i.autoInit=function(e){var t=e.getElementsByClassName(n);Array.from(t).forEach(o)};var n="ipl-tabset",s="ipl-tabset__tab-container",a="ipl-tabset__tab--selected";function o(e){var t=e.getElementsByClassName(s)[0],i=e.getElementsByClassName(a)[0];if(i){var n=t.offsetWidth,o=i.offsetLeft-t.offsetLeft;t.scrollLeft=o+i.offsetWidth-n}}},{}],19:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.shouldUseRatingTaskCompletion=i.doRatingTaskCompletion=i.tabSet=i.loadMore=i.starbarwidgetAutoInit=i.starbarwidget=i.ratingStarInteractiveAutoInit=i.ratingSelectorAutoInit=i.multiSelectAutoInit=i.expanderAutoInit=i.expander=i.hideableAutoInit=i.hideable=void 0,i.iplInitDocFragment=m,i.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:m,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:window;"complete"===t.readyState?e(t):i.addEventListener("load",function(){return e(t)})};var n=e(4),o=v(n),s=e(5),a=v(s),r=e(7),l=e(17),u=v(l),c=e(13),d=e(14),h=e(18),f=v(h),p=v(e(6)),g=e(15);function v(e){return e&&e.__esModule?e:{default:e}}function m(e){if(!e||"function"!=typeof e.querySelectorAll)throw new Error("the docFragment argument must be a NodeList or HTMLCollection");(0,n.autoInit)(e),(0,s.autoInit)(e),(0,r.autoInit)(e),(0,c.autoInit)(e),(0,d.autoInit)(e),(0,h.autoInit)(e)}i.hideable=a.default,i.hideableAutoInit=s.autoInit,i.expander=o.default,i.expanderAutoInit=n.autoInit,i.multiSelectAutoInit=r.autoInit,i.ratingSelectorAutoInit=c.autoInit,i.ratingStarInteractiveAutoInit=d.autoInit,i.starbarwidget=u.default,i.starbarwidgetAutoInit=l.autoInit,i.loadMore=p.default,i.tabSet=f.default,i.doRatingTaskCompletion=g.doRatingTaskCompletion,i.shouldUseRatingTaskCompletion=g.shouldUseRatingTaskCompletion},{13:13,14:14,15:15,17:17,18:18,4:4,5:5,6:6,7:7}],20:[function(e,t,i){var n;n=function(n){return n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(e){return!!n.data(e,t)}}):function(e,t,i){return!!n.data(e,i[3])}})},"function"==typeof define&&define.amd?define(["jquery","./version"],n):n(jQuery)},{}],21:[function(e,t,i){var n;n=function(e){return e.fn.extend({disableSelection:(t="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(t+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var t},"function"==typeof define&&define.amd?define(["jquery","./version"],n):n(jQuery)},{}],22:[function(e,t,i){var n;n=function(e){return e.ui.escapeSelector=(t=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(e){return e.replace(t,"\\$1")});var t},"function"==typeof define&&define.amd?define(["jquery","./version"],n):n(jQuery)},{}],23:[function(e,t,i){var n;n=function(l){return l.ui.focusable=function(e,t){var i,n,o,s,a,r=e.nodeName.toLowerCase();return"area"===r?(n=(i=e.parentNode).name,!(!e.href||!n||"map"!==i.nodeName.toLowerCase())&&(0<(o=l("img[usemap='#"+n+"']")).length&&o.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(r)?(s=!e.disabled)&&(a=l(e).closest("fieldset")[0])&&(s=!a.disabled):s="a"===r&&e.href||t,s&&l(e).is(":visible")&&function(e){var t=e.css("visibility");for(;"inherit"===t;)e=e.parent(),t=e.css("visibility");return"hidden"!==t}(l(e)))},l.extend(l.expr[":"],{focusable:function(e){return l.ui.focusable(e,null!=l.attr(e,"tabindex"))}}),l.ui.focusable},"function"==typeof define&&define.amd?define(["jquery","./version"],n):n(jQuery)},{}],24:[function(e,t,i){var n;n=function(e){return e.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):e(this[0].form)}},"function"==typeof define&&define.amd?define(["jquery","./version"],n):n(jQuery)},{}],25:[function(e,t,i){var n;n=function(e){return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())},"function"==typeof define&&define.amd?define(["jquery","./version"],n):n(jQuery)},{}],26:[function(e,t,i){var n;n=function(r){"1.7"===r.fn.jquery.substring(0,3)&&(r.each(["Width","Height"],function(e,i){var o="Width"===i?["Left","Right"]:["Top","Bottom"],n=i.toLowerCase(),s={innerWidth:r.fn.innerWidth,innerHeight:r.fn.innerHeight,outerWidth:r.fn.outerWidth,outerHeight:r.fn.outerHeight};function a(e,t,i,n){return r.each(o,function(){t-=parseFloat(r.css(e,"padding"+this))||0,i&&(t-=parseFloat(r.css(e,"border"+this+"Width"))||0),n&&(t-=parseFloat(r.css(e,"margin"+this))||0)}),t}r.fn["inner"+i]=function(e){return void 0===e?s["inner"+i].call(this):this.each(function(){r(this).css(n,a(this,e)+"px")})},r.fn["outer"+i]=function(e,t){return"number"!=typeof e?s["outer"+i].call(this,e):this.each(function(){r(this).css(n,a(this,e,!0,t)+"px")})}}),r.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))})},"function"==typeof define&&define.amd?define(["jquery","./version"],n):n(jQuery)},{}],27:[function(e,t,i){var n;n=function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},"function"==typeof define&&define.amd?define(["jquery","./version"],n):n(jQuery)},{}],28:[function(e,t,i){var n;n=function(s){return s.fn.labels=function(){var e,t,i,n,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(n=this.eq(0).parents("label"),(i=this.attr("id"))&&(o=(e=this.eq(0).parents().last()).add(e.length?e.siblings():this.siblings()),t="label[for='"+s.ui.escapeSelector(i)+"']",n=n.add(o.find(t).addBack(t))),this.pushStack(n))}},"function"==typeof define&&define.amd?define(["jquery","./version","./escape-selector"],n):n(jQuery)},{}],29:[function(e,t,i){var n;n=function(s){return s.ui.plugin={add:function(e,t,i){var n,o=s.ui[e].prototype;for(n in i)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([t,i[n]])},call:function(e,t,i,n){var o,s=e.plugins[t];if(s&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;o<s.length;o++)e.options[s[o][0]]&&s[o][1].apply(e.element,i)}}},"function"==typeof define&&define.amd?define(["jquery","./version"],n):n(jQuery)},{}],30:[function(e,t,i){var n;n=function(e){return e.ui.safeActiveElement=function(t){var i;try{i=t.activeElement}catch(e){i=t.body}return i||(i=t.body),i.nodeName||(i=t.body),i}},"function"==typeof define&&define.amd?define(["jquery","./version"],n):n(jQuery)},{}],31:[function(e,t,i){var n;n=function(t){return t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")}},"function"==typeof define&&define.amd?define(["jquery","./version"],n):n(jQuery)},{}],32:[function(e,t,i){var n;n=function(s){return s.fn.scrollParent=function(e){var t=this.css("position"),i="absolute"===t,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=s(this);return(!i||"static"!==e.css("position"))&&n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&o.length?o:s(this[0].ownerDocument||document)}},"function"==typeof define&&define.amd?define(["jquery","./version"],n):n(jQuery)},{}],33:[function(e,t,i){var n;n=function(n){return n.extend(n.expr[":"],{tabbable:function(e){var t=n.attr(e,"tabindex"),i=null!=t;return(!i||0<=t)&&n.ui.focusable(e,i)}})},"function"==typeof define&&define.amd?define(["jquery","./version","./focusable"],n):n(jQuery)},{}],34:[function(e,t,i){var n;n=function(e){return e.fn.extend({uniqueId:(t=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}});var t},"function"==typeof define&&define.amd?define(["jquery","./version"],n):n(jQuery)},{}],35:[function(e,t,i){var n;n=function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"},"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)},{}],36:[function(e,t,i){var n;n=function(s){var e;return s.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is("input"),null!=(e=this.element[0].disabled)&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===s.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,t){var i="iconPosition"!==e,n=i?this.options.iconPosition:t,o="top"===n||"bottom"===n;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=s("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,t),this._attachIcon(n),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=s("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(n))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=void 0===e.showLabel?this.options.showLabel:e.showLabel,i=void 0===e.icon?this.options.icon:e.icon;t||i||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){"icon"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,t),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",t),(this.element[0].disabled=t)&&this.element.blur())},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!1!==s.uiBackCompat&&(s.widget("ui.button",s.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,t){"text"!==e?("showLabel"===e&&(this.options.text=t),"icon"===e&&(this.options.icons.primary=t),"icons"===e&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",t)}}),s.fn.button=(e=s.fn.button,function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(s.ui.checkboxradio||s.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}),s.fn.buttonset=function(){return s.ui.controlgroup||s.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),s.ui.button},"function"==typeof define&&define.amd?define(["jquery","./controlgroup","./checkboxradio","../keycode","../widget"],n):n(jQuery)},{}],37:[function(e,t,i){var n;n=function(l){return l.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var t=l(this).css(e).offset().top;t<0&&l(this).css("top",e.top-t)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&l.fn.draggable&&this._makeDraggable(),this.options.resizable&&l.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?l(e):this.document.find(e||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:l.noop,enable:l.noop,close:function(e){var t=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||l.ui.safeBlur(l.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){t._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var i=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+l(this).css("z-index")}).get(),o=Math.max.apply(null,n);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!t&&this._trigger("focus",e),i},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=l(l.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).trigger("focus")},_keepFocus:function(e){function t(){var e=l.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||l.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),t.call(this),this._delay(t)},_createWrapper:function(){this.uiDialog=l("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===l.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===l.ui.keyCode.TAB&&!e.isDefaultPrevented()){var t=this.uiDialog.find(":tabbable"),i=t.filter(":first"),n=t.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.trigger("focus")}),e.preventDefault()):(this._delay(function(){i.trigger("focus")}),e.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=l("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){l(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=l("<button type='button'></button>").button({label:l("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),e=l("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=l("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=l("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var o=this,e=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),l.isEmptyObject(e)||l.isArray(e)&&!e.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(l.each(e,function(e,t){var i,n;t=l.isFunction(t)?{click:t,text:e}:t,t=l.extend({type:"button"},t),i=t.click,n={icon:t.icon,iconPosition:t.iconPosition,showLabel:t.showLabel,icons:t.icons,text:t.text},delete t.click,delete t.icon,delete t.iconPosition,delete t.showLabel,delete t.icons,"boolean"==typeof t.text&&delete t.text,l("<button></button>",t).button(n).appendTo(o.uiButtonSet).on("click",function(){i.apply(o.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var o=this,s=this.options;function a(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,t){o._addClass(l(this),"ui-dialog-dragging"),o._blockFrames(),o._trigger("dragStart",e,a(t))},drag:function(e,t){o._trigger("drag",e,a(t))},stop:function(e,t){var i=t.offset.left-o.document.scrollLeft(),n=t.offset.top-o.document.scrollTop();s.position={my:"left top",at:"left"+(0<=i?"+":"")+i+" top"+(0<=n?"+":"")+n,of:o.window},o._removeClass(l(this),"ui-dialog-dragging"),o._unblockFrames(),o._trigger("dragStop",e,a(t))}})},_makeResizable:function(){var s=this,a=this.options,e=a.resizable,t=this.uiDialog.css("position"),i="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";function r(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:this._minHeight(),handles:i,start:function(e,t){s._addClass(l(this),"ui-dialog-resizing"),s._blockFrames(),s._trigger("resizeStart",e,r(t))},resize:function(e,t){s._trigger("resize",e,r(t))},stop:function(e,t){var i=s.uiDialog.offset(),n=i.left-s.document.scrollLeft(),o=i.top-s.document.scrollTop();a.height=s.uiDialog.height(),a.width=s.uiDialog.width(),a.position={my:"left top",at:"left"+(0<=n?"+":"")+n+" top"+(0<=o?"+":"")+o,of:s.window},s._removeClass(l(this),"ui-dialog-resizing"),s._unblockFrames(),s._trigger("resizeStop",e,r(t))}}).css("position",t)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=l(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),t=l.inArray(this,e);-1!==t&&e.splice(t,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(e){var i=this,n=!1,o={};l.each(e,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(n=!0),e in i.resizableRelatedOptions&&(o[e]=t)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(e,t){var i,n,o=this.uiDialog;"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:l("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((i=o.is(":data(ui-draggable)"))&&!t&&o.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((n=o.is(":data(ui-resizable)"))&&!t&&o.resizable("destroy"),n&&"string"==typeof t&&o.resizable("option","handles",t),n||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=l(this);return l("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!l(e.target).closest(".ui-dialog").length||!!l(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=l("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==l.uiBackCompat&&l.widget("ui.dialog",l.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}}),l.ui.dialog},"function"==typeof define&&define.amd?define(["jquery","./button","./draggable","./mouse","./resizable","../focusable","../keycode","../position","../safe-active-element","../safe-blur","../tabbable","../unique-id","../version","../widget"],n):n(jQuery)},{}],38:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.updatePrivacyOverview=function(e,t){var i=e.querySelector(".privacy-overview"),n=e.querySelector(".item-privacy-lock");t?(i.innerHTML="Public",n.classList.remove("privacy-private"),n.classList.add("privacy-public")):(i.innerHTML="Private",n.classList.remove("privacy-public"),n.classList.add("privacy-private"))}},{}],39:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.autoInit=l;var n,s=e(43),a=e(38),o=e("jquery"),r=(n=o)&&n.__esModule?n:{default:n};function l(){var t,i,n,e=document.getElementById("list-settings");if(e){var o={_init:function(e){var t=this;this.listId=document.getElementsByName("list_id")[0].value;var i=document.getElementById("privacy-toggle-switch");this.privacyStateElem=document.querySelector(".toggle-switch-icon"),(this.privacyElem=i).addEventListener("click",function(){var e=!0!==t.privacyElem.checked;(0,a.updatePrivacyOverview)(t.privacyStateElem,e)}),this.errorPanel=document.getElementById("error-panel"),this.overview=e},rememberState:function(){this.previousState={isPublic:!0!==this.privacyElem.checked}},reset:function(){var e=this.previousState.isPublic;this.privacyElem.checked=!e},submit:function(){var e=this;!function(t){var e=new XMLHttpRequest;e.open("POST","/list/"+t.listId+"/settings"),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.timeout=1e4,e.onreadystatechange=function(){4===this.readyState&&(200===this.status?t.success():t.error())},e.ontimeout=function(){t.error()};var i=document.getElementById("49e6c").getAttribute("value"),n=Object.keys(t.parameters).map(function(e){return e+"="+t.parameters[e]}).join("&");n+="&49e6c="+i,e.send(n)}({listId:this.listId,action:"",parameters:{isPublic:!0!==this.privacyElem.checked},error:function(){e.showStatus("error","Update failed")},success:function(){r.default.colorbox.close(),e.overview.update({isPublic:!0!==e.privacyElem.checked})}})},showStatus:function(e,t){this.errorPanel.innerHTML='<span class="message_box error text-small"> '+t+"</span>"}};o._init(function(){var t=document.getElementById("list-overview-summary");if(!t)return{update:function(e){}};var i=t.querySelector("#list-overview-lastupdated");return{update:function(e){(0,a.updatePrivacyOverview)(t,e.isPublic),i.innerHTML="last updated - just now"}}}()),n=o,e.addEventListener("click",function(e){e.preventDefault(),n.rememberState(),(0,s.openModal)({href:"#list-settings-content",height:"250"})}),i=o,document.querySelector("#list-settings-content .items_content_submit").addEventListener("click",function(e){e.preventDefault(),i.submit()}),t=o,document.querySelector("#list-settings-content .cancel").addEventListener("click",function(e){e.preventDefault(),r.default.colorbox.close(),t.reset()})}}l()},{38:38,43:43,jquery:"jquery"}],40:[function(e,t,i){"use strict";var s,n;s=jQuery,(n=window).imdb=n.imdb||{},n.imdb.userlists=n.imdb.userlists||{},n.imdb.userlists.getListConfig=function(e){return{listId:e.listId||"",refMarker:e.refMarker||"",mode:e.mode||"detail",page:e.page||1,viewMoreOption:e.viewMoreOption||"PAGINATE",ajaxURL:e.ajaxURL||"",sortField:e.sortField||"",sortDirection:e.sortDirection||"",showtimesDate:e.showtimesdate||"",explore:this.explore||""}},n.imdb.userlists.initDesktopLister=function(e){s(".lister-item").rating_animation();var t=window.location.search;t=t.replace(/[\\?&]sort=[^&#]*/g,"");var i=e.sortField+","+e.sortDirection;t=0===t.length?t+"?sort="+i:t+"&sort="+i,t+="&st_dt="+e.showtimesDate;var n=s(".lister").lister({externalCallbacks:[window.imdb.CS.filmosearchUpdate],initialMode:e.mode,initialPage:e.page,initialParams:t,viewMoreOption:e.viewMoreOption,ajaxRequestURL:e.ajaxURL});s(".faceter").faceter({Lister:n.data("lister"),explore:e.explore}),s(".lister-item.mode-grid").length&&s(".lister-item.mode-grid > .lister-item-image").smartPopout({containerSelector:".lister",popoutSelector:".lister-item-content",triangleAltitude:9,triangleBaseLength:24})},n.imdb.userlists.initUndoableWatchlistAction=function(o){!function(){s(".lister").undoableRibbon(".ribbonize");var n=function(e){var t=s(".rightcornerlink > .edit-link"),i=t.attr("href");"simple"===e?i!==o.listId+"?view=compact"&&t.attr("href","/list/"+o.listId+"?view=compact&ref_="+o.refMarker+"_edt_pwr"):i!=="/list/edit?list_id="+o.listId&&t.attr("href","/list/edit?list_id="+o.listId+"&ref_="+o.refMarker+"_edt")};s(".lister-item.mode-simple").length&&n("simple"),s(".lister-mode").on("click",function(e){var t=e?s(e.target):{},i=t.length?t.data("mode"):"grid";n(i)})}()},function(o){var s=o(".lister").data("lister");if(void 0!==s){var a=function(n,t,i){o.ajax({url:n,beforeSend:CS.addClickstreamHeadersToAjax,dataType:"html",type:"GET",success:function(e){void 0!==e&&(o(t).replaceWith(e),o(i).attr("has-count",!0))},error:function(e,t,i){consoleLog("Unable to get the count :"+n+"|"+i)}})};o(".faceter").on("click",'.faceter-category[data-for="in_theaters"]',function(e){var t=s.getAjaxlink("/_ajax/now_playing"),i=o('div.faceter-fieldset.in_theaters fieldset[name="now_playing"]'),n=o('.faceter-category[data-for="in_theaters"]');n.attr("has-count")||a(t,i,n)}),o(".faceter").on("click",'.faceter-category[data-for="on_tv"]',function(e){var t=s.getAjaxlink("/_ajax/on_tv"),i=o('div.faceter-fieldset.on_tv fieldset[name="on_tv"]'),n=o('.faceter-category[data-for="on_tv"]');n.attr("has-count")||a(t,i,n)}),o(".faceter").hasClass("open")&&o("div.faceter-categories .faceter-category.active").click()}}(jQuery),$("#explore-more").hide(),$("#lateload-recs-widget").load("/widget/recommendations/recs",{caller_name:"persrecs-titlelist",start:0,count:24,noIncludes:1,standards:"personal"},function(e,t,i){"error"===t&&($(".rec_slide .rec_item").length<6&&$(".rec_heading_wrapper").parents(".article").hide(),$("#explore-more").show()),"csm"in window&&csm.measure("csm_recs_delivered")})},{}],41:[function(e,t,i){"use strict";e(46),e(44),e(52)},{44:44,46:46,52:52}],42:[function(e,t,i){"use strict";e(50),e(41),e(39),e(49),e(52),e(40),(0,e(43).setupCancelClickHandler)()},{39:39,40:40,41:41,43:43,49:49,50:50,52:52}],43:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.setupCancelClickHandler=function(){for(var e=document.querySelectorAll(".items-content .cancel"),t=0;t<e.length;t++)e[t].addEventListener("click",r)},i.openModal=function(e){s.default.colorbox({inline:e.inline||!0,href:e.href||"#modal-content",width:e.width||"480",height:e.height||"323",className:e.className||"list-actions-cbox",onClosed:e.onClosed||a,opacity:e.opacity||.3,transition:e.transition||"none"})};var n,o=e("jquery"),s=(n=o)&&n.__esModule?n:{default:n};function a(){}function r(e){e.preventDefault(),s.default.colorbox.close()}},{jquery:"jquery"}],44:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.initPopUpMenu=l;var n,o=e("jquery"),s=(n=o)&&n.__esModule?n:{default:n};var a=void 0,r=!1;function l(){(0,s.default)(".pop-up-dialog").each(function(){var e=(0,s.default)(this).attr("id"),t="#"+e;void 0===e&&(t=""),(0,s.default)(this).dialog({autoOpen:!1,appendTo:".vertical-ellipsis"+t,width:"auto",minHeight:"auto",open:function(){a=!0,(0,s.default)(document).on("click",u)},focus:function(){a=!1},close:function(){(0,s.default)(document).off("click")}})}),(0,s.default)(".vertical-ellipsis").each(function(){var e=(0,s.default)(this).attr("id"),t="#"+e;void 0===e&&(t=""),(0,s.default)(this).click(function(){(0,s.default)(".pop-up-dialog"+t).dialog("open"),a=!1})}),(0,s.default)(".ui-dialog").click(function(){r=!0}),u()}function u(){(a||r)&&((0,s.default)(".pop-up-dialog").dialog("close"),r=!1),a=!0}(0,s.default)(function(){l()})},{jquery:"jquery"}],45:[function(e,t,i){"use strict";function n(e){var t=[];for(var i in e)if(null!==e[i])if("sort"===i){var n=e[i].split(",")[0].split(":");t.push(encodeURIComponent(i)+"="+encodeURIComponent(n[0])+","+encodeURIComponent("descending"===n[1]?"desc":"asc"))}else t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t.join("&")}function r(e){return e?decodeURIComponent(e.replace(/\+/g," ")):""}Object.defineProperty(i,"__esModule",{value:!0}),i.constructRefinementsString=n,i.refinementsFromString=function(e){var t=/([^\\?&=]+)=?([^&#]*)/g,i={},n=t.exec(e);for(;n;){if("sort"===n[1]){var o=n[2].split(","),s=r(o[0]),a="asc"===r(o[1])?"ascending":"descending";i.sort=s+":"+a}else i[r(n[1])]=r(n[2]);n=t.exec(e)}return i},i.createUrl=function(e,t){return t+"?"+n(e)}},{}],46:[function(e,t,i){"use strict";e(35),e(24),e(22),e(23),e(20),e(21),e(25),e(27),e(28),e(26),e(29),e(30),e(31),e(32),e(33),e(34),e(36),e(37)},{20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37}],47:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.initElements=function(e){var i=e.querySelectorAll(".list-item-block-link");if(i)for(var t=function(t){i[t].addEventListener("click",function(e){e.target.classList.contains("wl-ribbon")||i[t].querySelector(".list-item-link").click()})},n=0;n<i.length;n++)t(n)}},{}],48:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.initGridPopouts=function(){s.default.fn.smartPopout&&(0,s.default)(".lister-item.mode-grid").length&&(0,s.default)(".lister-item.mode-grid > .lister-item-image").smartPopout({containerSelector:".lister",popoutSelector:".lister-item-content",triangleAltitude:9,triangleBaseLength:24})};var n,o=e("jquery"),s=(n=o)&&n.__esModule?n:{default:n}},{jquery:"jquery"}],49:[function(e,t,i){"use strict";var o;o=jQuery,window.imdb=window.imdb||{},window.imdb.userlists=window.imdb.userlists||{},window.imdb.userlists.getListerInitConfig=function(e){return{listId:e.listId||"",refMarker:e.refMarker||"",mode:e.mode||"detail",page:e.page||1,viewMoreOption:e.viewMoreOption||"PAGINATE",ajaxURL:e.ajaxURL||"",sortField:e.sortField||"",sortDirection:e.sortDirection||"",showtimesDate:e.showtimesdate||"",explore:this.explore||"",externalCallbacks:e.externalCallbacks||[window.imdb.CS.filmosearchUpdate]}},window.imdb.userlists.listerInit=function(e){o("a.wlb_watchlist_lite").wlb_lite(),o(".lister").watchlistRibbon(".ribbonize");var t=window.location.search;t=t.replace(/[\\?&]sort=[^&#]*/g,"");var i=e.sortField+","+e.sortDirection;t=0===t.length?t+"?sort="+i:t+"&sort="+i,t+="&st_dt="+e.showtimesDate;var n=o(".lister").lister({externalCallbacks:e.externalCallbacks,initialMode:e.mode,initialPage:e.page,initialParams:t,viewMoreOption:e.viewMoreOption,ajaxRequestURL:e.ajaxURL});o(".faceter").faceter({Lister:n.data("lister"),explore:e.explore}),o(".lister-item.mode-grid").length&&o(".lister-item.mode-grid > .lister-item-image").smartPopout({containerSelector:".lister",popoutSelector:".lister-item-content",triangleAltitude:9,triangleBaseLength:24})}},{}],50:[function(e,t,i){"use strict";var E,n,C=e(45),T=e(51),x=e(48);E=jQuery,n=window,document,"imdb"in n||(n.imdb={}),n.imdb.ListerLoad=function(e,t){var s,i={APPEND:0},n=[],o=E(e),a={},r={externalCallbacks:[],initialMode:"detail",initialFilter:0,initialSort:"date_added,desc",initialSortRaw:"date_added:descending",initialParams:{},viewMoreOption:"APPEND",ajaxRequestURL:""},l=o.find(".lister-list"),u=this,c=o.find(".lister-working"),d=function(){var e=E(".lister-filter-by").val();"0"!==e&&(b(!0),a.ratingFilter=e);var t=E(".lister-sort-by").val();"date_added"!==t.split(":")[0]&&(a.sort=t)},h=function(){o.on("click",".lister-mode.grid",f),o.on("click",".lister-mode.detail",f),o.on("click","#load-more-trigger",S),o.on("change",".lister-sort-by",v),o.on("click",".lister-sort-by:not(select)",v),o.on("click",".lister-sort-reverse",v),o.on("change",".lister-filter-by",m)},f=function(e){var t,i=E(this),n=i.data("mode");if(n!==a.mode){e&&(t=E(e.target).attr("ref-marker"),a.ref_=t),E(".lister-mode").each(function(){E(this).data("mode")===n?E(this).addClass("hidden"):E(this).removeClass("hidden")}),a.mode=n,g(i),c.show();var o=(0,C.refinementsFromString)(window.location.search);o.mode=n,o.sort=a.sort,y((0,C.createUrl)(o,s.ajaxRequestURL),!0)}},p=function(){a.lastPosition=0,a.paginationKey=null},g=function(e){o.find(".lister-mode").removeClass("active"),e.addClass("active")},v=function(e){var t=E(this);if(!t.is("span")||!t.hasClass("deactivated")){var i,n=t.is("select")?t.val():t.data("sort");n!==a.sort&&(e&&(i=E(e.target).attr("ref-marker"),a.ref_=i),a.sort=n,c.show(),p(),y((0,C.createUrl)(a,s.ajaxRequestURL),!0),w())}},m=function(e){var t=E(this),i=t.is("select")?t.val():t.data("filter");i!==a.ratingFilter&&(b("0"!==i),a.ratingFilter=i,c.show(),p(),y((0,C.createUrl)(a,s.ajaxRequestURL),!0),w())},b=function(e){a.sort=r.initialSortRaw,E('.lister-sort-by option:contains("date_added")').prop("selected",!0),e?(E(".lister-sort-reverse").hide(),E(".lister-control-label.sort-by").hide(),E(".lister-sort-by").hide()):(E(".lister-sort-reverse").show(),E(".lister-control-label.sort-by").show(),E(".lister-sort-by").val(a.sort),E(".lister-sort-by").show())},y=function(e,t){E.ajax({url:e,success:function(e){_(E(e),t),history.replaceState({},"",this.url.replace("/_ajax",""))},error:function(){_(null,t)}})},_=function(e,t){if(c.hide(),null!==e){(0,T.updateContainerItems)(e[0],l[0],t),E(window).trigger("bindloadlate");var i=s.externalCallbacks.length;if(i)for(var n=0;n<i;n++)s.externalCallbacks[n].call(u,e);c=E(".lister-working");var o=E("#lister-new-size").attr("value");E("#lister-header-current-size").text(o)}},w=function(){var e,t,i,n=a.sort.split(":");"ascending"===n[1]?(e="descending",t="Descending order"):(e="ascending",t="Ascending order"),i=n[0]+":"+e,k(e,i),L(t)},k=function(e,t){E(".lister-sort-reverse").removeClass("ascending").removeClass("descending").addClass(e).data("sort",t)},L=function(e){E(".lister-sort-reverse").attr("title",e)},S=function(e){var t;e&&(t=E(e.target).attr("ref-marker"),a.ref_=t),a.lastPosition=l.find(".lister-item-index").last().text().replace(/,/g,""),y((0,C.createUrl)(a,s.ajaxRequestURL),!1)};!function(){for(var e in s=E.extend(!0,{},r,t),i)n.push(e);i.hasOwnProperty(s.viewMoreOption)?("string"==typeof s.initialParams&&(a=(0,C.refinementsFromString)(s.initialParams)),a.sort||(a.sort=r.initialSort),a.ratingFilter||(a.ratingFilter=r.initialFilter),a.mode||(a.mode=s.initialMode||r.initialMode),d(),h(),w(),o.find(".lister-activated").show(),(0,x.initGridPopouts)(),E(window).trigger("bindloadlate")):E.error("ListerLoad: viewMoreOption ("+s.viewMoreOption+") must be one of: "+n.join(", "))}()},E.fn.listerload=function(t){return this.each(function(){var e=new n.imdb.ListerLoad(this,t);E(this).data("listerload",e)})}},{45:45,48:48,51:51}],51:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.updateContainerItems=function(e,t,i){i&&function(e){for(;e.hasChildNodes();)e.removeChild(e.lastChild)}(t);var n=e.querySelector(a);null!=n&&(o=n.children,s=t,Array.from(o).forEach(function(e){s.appendChild(e)}));var o,s};var a=i.DEFAULT_LIST_QUERY_SELECTOR=".lister-list"},{}],52:[function(e,t,i){"use strict";var n,o=e(19),s=e(47),a=e(48);n=jQuery,window.imdb=window.imdb||{},window.imdb.CS=window.imdb.CS||{},window.imdb.CS.loadMoreUpdate=function(){n.fn.watchlistRibbon&&n(".lister").watchlistRibbon(".ribbonize").undoableRibbon(".ribbonize"),(0,a.initGridPopouts)(),(0,o.ratingSelectorAutoInit)(document),(0,o.ratingStarInteractiveAutoInit)(document),(0,s.initElements)(document)}},{19:19,47:47,48:48}]},{},[1]);